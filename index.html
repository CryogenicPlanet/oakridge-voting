<?php
	//Enter database details to connect
   $con=mysql_connect(DB_HOST,DB_USER,DB_PASSWORD) or die("Failed to connect to MySQL: " . mysql_error()); $db=mysql_select_db(DB_NAME,$con) or die("Failed to connect to MySQL: " . mysql_error());
   
   if(isset(_POST['userid']) && isset(_POST['userpwd']){
     $ID = $_POST['userid']; 
     $Password = $_POST['userpwd']; 

     //Search in Database for user and check if password matches
	
    
	 if(userfound == TRUE){
     	if(match == TRUE){
     		// successful sign in
     		// Set cookieName and set cookieFlag to 0
     	}
     	else{
     		// Password didnt match
			// Set cookieFlag to 1 and reload sign in page
    	}
     } 
     else{
    	// User not found in database
        // Set cookieFlag to 2 and reload sign in page
     }
     
   }
   else{
   		// No user input recieved
   		// reload sign in page
   }

>
<!DOCTYPE html>
  <html>
    <head>
    <script>
    	function checkCookie() {
        if (document.cookie.indexOf('cookieFlag') > -1 ) {
            var flag = getCookie("cookieFlag");
            if(flag == 0){
              var username = getCookie("cookieName");
              if (username != "") {
                  alert("Welcome again " + username);
              } 
            }
            else if(flag == 1){
            	getDocumentById("errorDiv").innerHTML = 'Wrong password, please try again'
            }
            else if(flag == 2){
                getDocumentById("errorDiv").innerHTML = 'User not found, have you signed up with us?'
            }
        }
    
    </script>
    
      <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <style>
        body {
          background-color: rgb(255,250,205);
        }
        form {
          position: absolute;
          top: 50%;
          bottom: 50%;
          left: 10%;
          right: 10%;
        }
       table { 
          margin-top: 30%;          
        } 
        
      </style>
    </head>

    <body>
      <!--Import jQuery before materialize.js-->
      <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
      <script type="text/javascript" src="js/materialize.min.js"></script>
        <!-- This is the base html to which just link to all the materializecss files. -->
      
      <h1><center>Oakridge Voting System</center></h1>
      <table align=center frame="border">
        <tbody>
          <tr><td><center> <h4>Log-in</h4></center></td></tr>
            <form method="POST" method="voting.php"> 
            <tr><td>Username:<input id= user type="text" name="userid"></td></tr>
            <tr><td>Password:<input id= user type="password" name="userpwd"></td></tr>
            <tr><td><center><button id=submit type=submit>Submit</button></center><td></tr>
            </form>
        </tbody>
      </table>
      
      <div id="errorDiv">
      
      </div>
      
    </body>
  </html>
